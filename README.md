# gitCourses

## https://ru.hexlet.io/courses/intro_to_git

 Первым делом установка гита на машину. с этим понятно.
 Затем настройка метаданных для аккаунта
``` 
git config --global user.name "<имя фамилия>"
git config --global user.email "<ваш емейл>" 
```
 Нужно создать ssh-ключи для подключения к аккаунту. 
```
ssh-keygen -t ed25519  -C "your_email@example.com"
# Дальше будет несколько вопросов. На все вопросы нужно нажимать Enter.

# Запуск агента ssh, который следит за ключами
eval "$(ssh-agent -s)"

# Добавления нового ssh-ключа в агент
ssh-add ~/.ssh/id_ed25519
```

Этот ключ нужно занести в гитхаб. Для этого копируем содержимое публичной части ключа из консоли и заносим в github. Ключ смотрим по расширению .pub
```
cat ~/.ssh/id_ed25519.pub
```
### Рабочая среда настроена.
Теперь мы создаём папку, в ней прописываем ``` git init ``` Инициализируя репозиторий.

Команда ``` git status ``` позволяет посмотреть состояние репозитория
Теперь для добавления файлов в репозиторий мы можем написать ``` git add {Путь до файла} ``` Статус такого добавленного файла изменится с *Untracked files* на *Changes to be committed*. Иными словами, файл попадает в *Индекс*

Затем мы пишем ``` git commit -m 'abc' ``` Чтобы зафиксировать изменения. Флаг -m для команды означает комментарий к коммиту.

Теперь нам нужно выгрузить наш репозиторий на github

```
git remote add origin git@github.com:<ИМЯ НА ГИТХАБЕ>/gitCourses.git
git branch -M main
git push -u origin main 
```
Таким образом мы занесли изменения в Github.

Теперь о получении данных.

Если нам нужно на локальном компьютере заиметь репозиторий с гитхаба, это делается коммандой ``` git clone  git@github.com:<ИМЯ НА ГИТХАБЕ>/<Название репозитория>.git ```

Если вы работаете с нескольких компьютеров над одним проектом, то работу после внесения изменений лучше всего начинать с ``` git pull --rebase ```

Удаление данных. Для вынесения из репозитория файла мы пользуемся ``` git rm {filename} ```. Данная команда равносильна терминальному rm + git add

Анализ работы. Для анализа добавленного/измененного/удаленного в репозитории используется команда ``` git diff ``` которая выводит все эти изменения.

Сама команда не просто выводит на экран разницу между файлами, но и запускает 

#### пейджер — специальную программу, которая позволяет перемещаться по выводу и искать внутри него нужные данные. Для перемещения вниз по дифу нужно нажать f, для перемещения наверх — b или u. Для выхода из режима просмотра нажмите q.

По умолчанию git diff показывает изменения только для тех модифицированных файлов, которые ещё не были добавлены в индекс. Подразумевается, что добавленные в индекс файлы смотреть не нужно, ведь мы их уже подготовили к коммиту. В реальности же часто хочется и, более того, нужно увидеть эти изменения. Для этого нужно запустить команду вывода дифа с флагом --staged

Также существует команда ```git log ``` Она выводит список всех коммитов сортируя по дате. Для команды есть полезный флаг -p который выводит дифф для каждого коммита. 

У каждого коммита есть свой хэш. По хэшу при помощи команды  ``` git show ``` можно посмотреть конкретный коммит. Для удобства просмотра люди придумали возможность посмотреть коммит по первым 8 символам хэша.

Если нам нужно узнать кто последним менял строки в файле, если мы не знаем коммита, существует команда ``` git blame {имя файла}```.

Поиск. Для поиска по коммитам существует команда ``` git grep ``` Она работает аналогично баш-версии, однако она лучше потому что знает про игнорирование, не заглядывает в .git и ищет по истории. Также искать можно в конкретном коммите.

Отмена коммитов. Для этого используется команда ```git revert {хэш коммита} ``` Также есть опция удаления коммитов (лучше выполнять только с новыми коммитами,которых нет ни у кого кроме вас). Выполняется она с помощью ``` git reset ```. Основные флаги это --hard (Именно удаляет коммиты а не отменит их с помещением в рабочую директорию) и HEAD~n где n это количество коммитов от последнего которые нужно отменить, т.е. один последний коммит, два и тд

Флаг --amend для коммита позволяет 'дописать' в него данные, если вы что то, например, забыли добавить. Он выполняет reset последнего коммита и делает новую запись с изменениями. Т.О. команда ``` git commit --amend ``` Откроет нам текстовый редактор с комментарием последнему коммиту и позволит его изменить. Также позволит добавить файлы. Существует флаг --no-edit который позволяет избежать открытия текстового редактора

Переключение по коммитам. Перейти в состояние определенного коммита можно с помощью команды ``` git checkout main/{хэш коммита}```. Для того чтобы понимать что мы находимся на последней возможной ветке для работы, чтобы не было проблем с коммитами, есть команда ``` git branch ``` Которая покажет нам main если мы в основной ветке или хэш коммита если мы в предыдущих
